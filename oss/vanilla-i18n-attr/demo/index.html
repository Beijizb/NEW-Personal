<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>vanilla-i18n-attr · demo</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="site-header surface">
      <div class="header-meta">
        <span class="badge" data-i18n="app.name"></span>
        <p class="subtitle" data-i18n="app.description"></p>
      </div>
      <nav class="locale-switch" aria-label="Locale switcher">
        <button type="button" class="chip" data-locale="en" data-i18n="demo.actions.switch_en"></button>
        <button type="button" class="chip" data-locale="zh" data-i18n="demo.actions.switch_zh"></button>
        <button type="button" class="chip" data-locale="ar" data-i18n="demo.actions.switch_ar"></button>
      </nav>
    </header>

    <main class="content">
      <section class="hero surface">
        <h1 data-i18n="demo.hero.heading"></h1>
        <p data-i18n="demo.hero.subheading"></p>
      </section>

      <section class="grid">
        <article class="card surface">
          <h2 data-i18n="demo.type.label"></h2>
          <p data-i18n="demo.type.description"></p>
          <label class="field">
            <span data-i18n="forms.name"></span>
            <input
              type="text"
              id="name-input"
              data-i18n-attr="placeholder:forms.placeholder"
              autocomplete="off"
            />
          </label>
          <p class="output" data-demo="greeting" data-i18n="demo.type.example"></p>
        </article>

        <article class="card surface">
          <h2 data-i18n="demo.attributes.title"></h2>
          <p data-i18n="demo.attributes.description"></p>
          <div class="cluster">
            <button
              class="chip"
              type="button"
              data-action="copy-email"
              data-i18n="buttons.copy"
              data-i18n-attr="title:tooltips.copy"
            ></button>
            <span class="status" data-demo="copy-status"></span>
            <span class="hint" data-i18n="notices.rtl_hint"></span>
          </div>
        </article>

        <article class="card surface">
          <h2 data-i18n="demo.fallback.title"></h2>
          <p data-i18n="demo.fallback.description"></p>
          <p class="output" data-i18n="missing.demo"></p>
        </article>

        <article class="card surface">
          <h2 data-i18n="api.quick_start"></h2>
          <p data-i18n="api.usage"></p>
          <button class="chip" type="button" data-demo="spawn" data-i18n="api.fallbacks"></button>
          <div class="spawn-zone" data-demo="zone"></div>
        </article>
      </section>

      <section class="doc surface">
        <h2 data-i18n="api.options"></h2>
        <div class="columns">
          <div>
            <h3>EN</h3>
            <ul>
              <li><code>data-i18n</code> → text nodes</li>
              <li><code>data-i18n-attr</code> → attributes (<code>title:tooltips.copy</code>)</li>
              <li>Lazy locale loading from <code>../locales/&lt;locale&gt;.json</code></li>
              <li>Locale persistence via <code>localStorage</code></li>
              <li>RTL locales update <code>&lt;html dir&gt;</code> &amp; <code>body[data-dir]</code></li>
            </ul>
          </div>
          <div>
            <h3>中文</h3>
            <ul>
              <li><code>data-i18n</code> → 直接替换文本节点</li>
              <li><code>data-i18n-attr</code> → 翻译属性（例如 <code>title:tooltips.copy</code>）</li>
              <li>按需从 <code>../locales/&lt;locale&gt;.json</code> 拉取字典</li>
              <li>语言选择保存到 <code>localStorage</code></li>
              <li>RTL 语言会更新 <code>&lt;html dir&gt;</code> 与 <code>body[data-dir]</code></li>
            </ul>
          </div>
        </div>
      </section>

      <section class="iife surface">
        <h2>IIFE demo</h2>
        <p>
          This iframe uses the <code>dist/vanilla-i18n-attr.js</code> file with a minimal dictionary to
          demonstrate the no-build workflow.
        </p>
        <iframe
          title="IIFE demonstration"
          loading="lazy"
          srcdoc="<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"utf-8\"><style>body{font-family:monospace;background:#111;color:#f8f8f2;padding:1.5rem;}button{background:#08f;color:#111;border:none;padding:.5rem 1rem;margin-right:.5rem;border-radius:.5rem;font-weight:700;cursor:pointer;}section{border:1px solid #444;border-radius:1rem;padding:1rem;margin-top:1rem;}h1{font-size:1.2rem;}p{margin:.5rem 0;}code{background:#222;padding:.1rem .4rem;border-radius:.4rem;}</style></head><body><script src=\"../dist/vanilla-i18n-attr.js\"></script><script>VanillaI18nAttr.loadLocale('en', { card: { title: 'No-bundle usage', body: 'Attach the script and translate with data attributes.' }, actions: { apply: 'Translate block' } }); VanillaI18nAttr.loadLocale('zh', { card: { title: '无需打包', body: '直接引用脚本即可使用数据属性翻译。' }, actions: { apply: '翻译示例' } }); VanillaI18nAttr.setLocale('en').then(function(){var section=document.createElement('section');section.innerHTML='<h1 data-i18n=\'card.title\'></h1><p data-i18n=\'card.body\'></p><button data-i18n=\'actions.apply\'></button>';document.body.appendChild(section);VanillaI18nAttr.translateDOM(section);var toggle=document.createElement('div');toggle.innerHTML='<button data-locale=\'en\'>EN</button><button data-locale=\'zh\'>中文</button>';document.body.insertBefore(toggle,section);toggle.addEventListener('click',function(ev){var btn=ev.target.closest('button[data-locale]');if(!btn)return;VanillaI18nAttr.setLocale(btn.dataset.locale).then(function(){VanillaI18nAttr.translateDOM(section);});});});</script></body></html>"
        ></iframe>
      </section>
    </main>

    <footer class="site-footer">
      <small>MIT © <span data-i18n="app.name"></span></small>
    </footer>

    <script type="module" src="./app.js"></script>
  </body>
</html>
